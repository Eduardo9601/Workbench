---==SQL PARA ATUALIZAR AS DATA_INICIO DA LOTAÇÃO DO CONTRATO, TRAZENDO A DATA DE ADMISSAO DO CONTRATO

--UPDATE FILTRADO 1 CONTRATO

--OBS FUNCIONA MELHOR COM A TABELA RHFP0300
UPDATE RHFP0309
SET DATA_INICIO = (
    SELECT DATA_ADMISSAO
    FROM V_DADOS_COLAB_AVT
    WHERE COD_EMP = '008'
        AND STATUS = 0
        AND STATUS_AFAST IN ('EM ATIVIDADE', 'AFASTADO TEMP')
        AND TIPO = 'LOJA'
        /*AND COD_CONTRATO = 376606
        AND (COD_FUNCAO = 68 OR
             COD_FUNCAO IN
             (77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 184, 185, 186, 188, 189, 190, 192, 294, 318) OR
             COD_FUNCAO IN (121, 305, 122) OR COD_FUNCAO = 206 OR
             COD_FUNCAO = 120 OR COD_FUNCAO = 102 OR COD_FUNCAO = 74)*/
)

WHERE COD_CONTRATO = 376606;


---UPDATE GERAL

UPDATE RHFP0309
SET DATA_INICIO = (
SELECT DATA_INICIO 
FROM RHFP0300
WHERE RHFP0309.COD_CONTRATO = RHFP0300.COD_CONTRATO)